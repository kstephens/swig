-- ----------------------------------------------------
-- example1-test.sql:
DROP EXTENSION example1_swig;
DROP EXTENSION
CREATE EXTENSION example1_swig;
CREATE EXTENSION
SELECT EXAMPLE1_VERSION();
 example1_version 
------------------
 1.2.3
(1 row)

DROP TABLE IF EXISTS cubics;
DROP TABLE
CREATE TABLE cubics (
  cubics_id int,
  c0 float8,
  c1 float8,
  c2 float8,
  c3 float8
);
CREATE TABLE
INSERT INTO cubics VALUES
  (1, 2.0, 3.0, 5.0, 7.0),
  (2, 2.3, 5.7, 11.13, 17.23),
  (3, -5.2, 1.2, -99.0, 12.34);
INSERT 0 3
DROP TABLE IF EXISTS cubic_parameters;
DROP TABLE
CREATE TABLE cubic_parameters (
  x float8
);
CREATE TABLE
INSERT INTO cubic_parameters VALUES
  (2),
  (-3.7),
  (3.1415926);
INSERT 0 3
SELECT *, cubic_poly(x, c0, c1, c2, c3)
FROM cubics, cubic_parameters;
 cubics_id |  c0  | c1  |  c2   |  c3   |     x     |     cubic_poly      
-----------+------+-----+-------+-------+-----------+---------------------
         1 |    2 |   3 |     5 |     7 |         2 |                  84
         2 |  2.3 | 5.7 | 11.13 | 17.23 |         2 |              196.06
         3 | -5.2 | 1.2 |   -99 | 12.34 |         2 | -300.08000000000004
         1 |    2 |   3 |     5 |     7 |      -3.7 | -295.22100000000006
         2 |  2.3 | 5.7 | 11.13 | 17.23 |      -3.7 |  -739.1714900000002
         3 | -5.2 | 1.2 |   -99 | 12.34 |      -3.7 | -1990.0080200000002
         1 |    2 |   3 |     5 |     7 | 3.1415926 |   277.8167237768615
         2 |  2.3 | 5.7 | 11.13 | 17.23 | 3.1415926 |   664.2938909186964
         3 | -5.2 | 1.2 |   -99 | 12.34 | 3.1415926 |  -595.9034565984515
(9 rows)

-- ----------------------------------------------------
